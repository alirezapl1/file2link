# ุณุณุชู ูุฑูุด ุงุดุชุฑุงฺฉ VPN L2TP

ฺฉ ุณุณุชู ฺฉุงูู ุจุฑุง ูุฑูุด ู ูุฏุฑุช ุงุดุชุฑุงฺฉุงุช VPN ุจุง ูพุฑูุชฺฉู L2TP/IPSec

## ูฺฺฏโูุง

### โจ ูฺฺฏโูุง ุงุตู
- ๐ **ูุตุจ ุฎูุฏฺฉุงุฑ L2TP**: ูุตุจ ู ูพฺฉุฑุจูุฏ ุฎูุฏฺฉุงุฑ L2TP ุฑู ุณุฑูุฑูุง ูููฺฉุณ
- ๐ณ **ุณุณุชู ูพุฑุฏุงุฎุช**: ูุฏุฑุช ูพุฑุฏุงุฎุชโูุง ู ุชุงุฏ ุฏุณุช ุชูุณุท ุงุฏูู
- ๐ฅ **ูุฏุฑุช ฺฉุงุฑุจุฑุงู**: ุซุจุชโูุงู ู ูุฏุฑุช ฺฉุงุฑุจุฑุงู
- ๐ **ุงููุช ุจุงูุง**: ุงุญุฑุงุฒ ููุช JWT ู ุฑูุฒฺฏุฐุงุฑ ููุงุณุจ
- ๐ฑ **ุฑุงุจุท ฺฉุงุฑุจุฑ ุฒุจุง**: ุทุฑุงุญ ูุงูุชุฒ ุจุง ูููุชโูุง ูุงุฑุณ
- ๐ **ุฏุงุดุจูุฑุฏ ฺฉุงูู**: ุขูุงุฑ ู ฺฏุฒุงุฑุดโฺฏุฑ ุจุฑุง ุงุฏูู
- ๐ **ุงุชููุงุณูู**: ุณุงุฎุช ุฎูุฏฺฉุงุฑ ุงุดุชุฑุงฺฉ ูพุณ ุงุฒ ุชุงุฏ ูพุฑุฏุงุฎุช

### ๐ฏ ุงูฺฉุงูุงุช ูพูู ุงุฏูู
- ูุฏุฑุช ุณุฑูุฑูุง ู ูุตุจ ุฎูุฏฺฉุงุฑ L2TP
- ูุฏุฑุช ฺฉุงุฑุจุฑุงู ู ุงุดุชุฑุงฺฉุงุช
- ุชุงุฏ/ุฑุฏ ูพุฑุฏุงุฎุชโูุง
- ูุดุงูุฏู ูุงฺฏโูุง ู ฺฏุฒุงุฑุดโูุง
- ุขูุงุฑ ฺฉุงูู ุณุณุชู

### ๐ ุงูฺฉุงูุงุช ูพูู ฺฉุงุฑุจุฑ
- ุฎุฑุฏ ุงุดุชุฑุงฺฉ ฺฉ ูุงูู
- ูุดุงูุฏู ุงุดุชุฑุงฺฉุงุช ูุนุงู
- ฺฉูพ ุงุทูุงุนุงุช ุงุชุตุงู
- ูุฏุฑุช ูพุฑููุงู

## ูุตุจ ู ุฑุงูโุงูุฏุงุฒ

### ูพุดโูุงุฒูุง
- Node.js 16+ 
- MySQL 8.0+
- ุณุฑูุฑ ูููฺฉุณ (Ubuntu/CentOS) ุจุฑุง VPN

### ูุฑุงุญู ูุตุจ

#### 1. ฺฉููู ฺฉุฑุฏู ูพุฑูฺู
```bash
git clone <repository-url>
cd l2tp-vpn-panel
```

#### 2. ูุตุจ ูุงุจุณุชฺฏโูุง
```bash
npm install
```

#### 3. ุชูุธู ุฏุชุงุจุณ
```sql
-- ุงุฌุงุฏ ุฏุชุงุจุณ
CREATE DATABASE vpn_panel CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- ุงุฌุฑุง ุงุณฺฉุฑูพุช ุฏุชุงุจุณ
mysql -u root -p vpn_panel < database/schema.sql
```

#### 4. ุชูุธู ูุชุบุฑูุง ูุญุท
ูุงู `.env` ุฑุง ูุฑุงุด ฺฉูุฏ:
```env
# ุชูุธูุงุช ุฏุชุงุจุณ
DB_HOST=localhost
DB_USER=root
DB_PASSWORD=your_password
DB_NAME=vpn_panel

# ุชูุธูุงุช JWT
JWT_SECRET=your_super_secret_jwt_key_here

# ุชูุธูุงุช L2TP
L2TP_PSK=your_shared_secret_key_here
DEFAULT_DNS1=8.8.8.8
DEFAULT_DNS2=8.8.4.4
```

#### 5. ุงุฌุงุฏ ูพูุดูโูุง ููุฑุฏ ูุงุฒ
```bash
mkdir -p uploads/receipts
mkdir -p logs
```

#### 6. ุฑุงูโุงูุฏุงุฒ ุณุฑูุฑ
```bash
# ุญุงูุช ุชูุณุนู
npm run dev

# ุญุงูุช ุชููุฏ
npm start
```

## ุงุณุชูุงุฏู

### ุฏุณุชุฑุณ ุจู ุณุณุชู
- **ุตูุญู ุงุตู**: `http://localhost:3000`
- **ูพูู ุงุฏูู**: `http://localhost:3000/admin`
- **ูพูู ฺฉุงุฑุจุฑ**: `http://localhost:3000/user`

### ุงฺฉุงูุช ูพุดโูุฑุถ ุงุฏูู
- **ูุงู ฺฉุงุฑุจุฑ**: `admin`
- **ุฑูุฒ ุนุจูุฑ**: `password`

### ูุฑุงุญู ุงุณุชูุงุฏู

#### 1. ูุฑูุฏ ุจู ูพูู ุงุฏูู
- ูุงุฑุฏ `/admin` ุดูุฏ
- ุจุง ุงฺฉุงูุช ุงุฏูู ูุงุฑุฏ ุดูุฏ

#### 2. ุงูุฒูุฏู ุณุฑูุฑ
- ุฏุฑ ุจุฎุด "ูุฏุฑุช ุณุฑูุฑูุง" ุณุฑูุฑ ุฌุฏุฏ ุงุถุงูู ฺฉูุฏ
- IPุ ูุงู ฺฉุงุฑุจุฑ ู ุฑูุฒ ุนุจูุฑ SSH ุฑุง ูุงุฑุฏ ฺฉูุฏ
- ุฑู "ูุตุจ L2TP" ฺฉูฺฉ ฺฉูุฏ

#### 3. ุฎุฑุฏ ุงุดุชุฑุงฺฉ ุชูุณุท ฺฉุงุฑุจุฑ
- ฺฉุงุฑุจุฑ ูุงุฑุฏ `/user` ูโุดูุฏ
- ุซุจุชโูุงู ุง ูุฑูุฏ ูโฺฉูุฏ
- ุงุดุชุฑุงฺฉ ฺฉ ูุงูู ุฎุฑุฏุงุฑ ูโฺฉูุฏ
- ุฑุณุฏ ูพุฑุฏุงุฎุช ุขูพููุฏ ูโฺฉูุฏ

#### 4. ุชุงุฏ ุชูุณุท ุงุฏูู
- ุงุฏูู ุฏุฑ ุจุฎุด "ุงุดุชุฑุงฺฉุงุช" ุฏุฑุฎูุงุณุชโูุง ุฑุง ูโุจูุฏ
- ุฑุณุฏ ูพุฑุฏุงุฎุช ุฑุง ุจุฑุฑุณ ูโฺฉูุฏ
- ุงุดุชุฑุงฺฉ ุฑุง ุชุงุฏ ุง ุฑุฏ ูโฺฉูุฏ

## ุณุงุฎุชุงุฑ ูพุฑูฺู

```
l2tp-vpn-panel/
โโโ database/
โ   โโโ connection.js      # ุงุชุตุงู ุจู ุฏุชุงุจุณ
โ   โโโ schema.sql         # ุณุงุฎุชุงุฑ ุฏุชุงุจุณ
โโโ public/
โ   โโโ css/              # ูุงูโูุง CSS
โ   โโโ js/               # ูุงูโูุง JavaScript
โ   โโโ admin/            # ูพูู ุงุฏูู
โ   โโโ user/             # ูพูู ฺฉุงุฑุจุฑ
โ   โโโ index.html        # ุตูุญู ุงุตู
โโโ routes/
โ   โโโ auth.js           # ุงุญุฑุงุฒ ููุช
โ   โโโ admin.js          # ูุฏุฑุช ุงุฏูู
โ   โโโ user.js           # ูุฏุฑุช ฺฉุงุฑุจุฑ
โ   โโโ subscription.js   # ูุฏุฑุช ุงุดุชุฑุงฺฉุงุช
โ   โโโ payment.js        # ูุฏุฑุช ูพุฑุฏุงุฎุชโูุง
โ   โโโ server.js         # ูุฏุฑุช ุณุฑูุฑูุง
โโโ utils/
โ   โโโ auth.js           # ุงุจุฒุงุฑูุง ุงุญุฑุงุฒ ููุช
โ   โโโ logger.js         # ุณุณุชู ูุงฺฏ
โ   โโโ ssh-manager.js    # ูุฏุฑุช SSH ู L2TP
โโโ server.js             # ุณุฑูุฑ ุงุตู
โโโ package.json          # ูุงุจุณุชฺฏโูุง
โโโ .env                  # ูุชุบุฑูุง ูุญุท
```

## API Endpoints

### ุงุญุฑุงุฒ ููุช
- `POST /api/auth/admin/login` - ูุฑูุฏ ุงุฏูู
- `POST /api/auth/user/login` - ูุฑูุฏ ฺฉุงุฑุจุฑ
- `POST /api/auth/user/register` - ุซุจุชโูุงู ฺฉุงุฑุจุฑ
- `GET /api/auth/verify` - ุจุฑุฑุณ ุชูฺฉู

### ูุฏุฑุช ุงุดุชุฑุงฺฉุงุช
- `GET /api/user/subscriptions` - ูุณุช ุงุดุชุฑุงฺฉุงุช ฺฉุงุฑุจุฑ
- `POST /api/user/subscriptions` - ุงุฌุงุฏ ุงุดุชุฑุงฺฉ ุฌุฏุฏ
- `GET /api/admin/subscriptions` - ูุณุช ุชูุงู ุงุดุชุฑุงฺฉุงุช
- `POST /api/admin/subscriptions/:id/approve` - ุชุงุฏ ุงุดุชุฑุงฺฉ
- `POST /api/admin/subscriptions/:id/reject` - ุฑุฏ ุงุดุชุฑุงฺฉ

### ูุฏุฑุช ุณุฑูุฑูุง
- `GET /api/admin/servers` - ูุณุช ุณุฑูุฑูุง
- `POST /api/admin/servers` - ุงูุฒูุฏู ุณุฑูุฑ
- `POST /api/admin/servers/:id/install-l2tp` - ูุตุจ L2TP

## ุงููุช

- ุงุญุฑุงุฒ ููุช JWT
- ุฑูุฒฺฏุฐุงุฑ ุฑูุฒูุง ุนุจูุฑ ุจุง bcrypt
- ูุญุฏูุฏุช ูุฑุฎ ุฏุฑุฎูุงุณุช (Rate Limiting)
- ุงุนุชุจุงุฑุณูุฌ ูุฑูุฏโูุง
- ูุงฺฏโฺฏุฑ ฺฉุงูู

## ูพุดุชุจุงู ุงุฒ ุณุณุชูโุนุงููโูุง

### ุณุฑูุฑ VPN
- Ubuntu 18.04+
- CentOS 7+
- Debian 9+

### ฺฉูุงูุช
- Windows (Native L2TP)
- macOS (Native L2TP)
- Android (Native L2TP)
- iOS (Native L2TP)
- Linux (NetworkManager)

## ุนุจโุงุจ

### ูุดฺฉูุงุช ุฑุงุฌ

#### ุฎุทุง ุงุชุตุงู ุจู ุฏุชุงุจุณ
```bash
# ุจุฑุฑุณ ูุถุนุช MySQL
sudo systemctl status mysql

# ุจุฑุฑุณ ุชูุธูุงุช .env
cat .env
```

#### ุฎุทุง SSH
- ุจุฑุฑุณ IP ู ูพูุฑุช ุณุฑูุฑ
- ุจุฑุฑุณ ูุงู ฺฉุงุฑุจุฑ ู ุฑูุฒ ุนุจูุฑ
- ุจุฑุฑุณ ุฏุณุชุฑุณ SSH ุงุฒ IP ูุนู

#### ุฎุทุง ูุตุจ L2TP
- ุจุฑุฑุณ ุฏุณุชุฑุณ root ุฑู ุณุฑูุฑ
- ุจุฑุฑุณ ุงุชุตุงู ุงูุชุฑูุช ุณุฑูุฑ
- ุจุฑุฑุณ ูพูุฑุชโูุง ููุฑุฏ ูุงุฒ (500, 4500, 1701)

### ูุงฺฏโูุง
```bash
# ูุงฺฏโูุง ุณุณุชู
tail -f logs/error-*.log
tail -f logs/info-*.log
```

## ูุดุงุฑฺฉุช

ุจุฑุง ูุดุงุฑฺฉุช ุฏุฑ ูพุฑูฺู:
1. Fork ฺฉูุฏ
2. Branch ุฌุฏุฏ ุงุฌุงุฏ ฺฉูุฏ
3. ุชุบุฑุงุช ุฎูุฏ ุฑุง commit ฺฉูุฏ
4. Pull Request ุงุฑุณุงู ฺฉูุฏ

## ูุงุณูุณ

ุงู ูพุฑูฺู ุชุญุช ูุงุณูุณ MIT ููุชุดุฑ ุดุฏู ุงุณุช.

## ูพุดุชุจุงู

ุจุฑุง ูพุดุชุจุงู ู ุณูุงูุงุช:
- ุงูู: support@vpnpanel.com
- ุชูฺฏุฑุงู: @vpn_support

---

**ูฺฉุชู**: ุงู ุณุณุชู ุจุฑุง ุงุณุชูุงุฏู ุชุฌุงุฑ ุทุฑุงุญ ุดุฏู ู ุดุงูู ุชูุงู ุงูฺฉุงูุงุช ูุงุฒู ุจุฑุง ุฑุงูโุงูุฏุงุฒ ฺฉุณุจโูฺฉุงุฑ ูุฑูุด VPN ุงุณุช.
